<!DOCTYPE html>
<html class="no-js">
<head>
  
  <meta charset="utf-8" />

  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

  <meta name="viewport" content="width=device-width" />

  <meta name="description" content="documentation of CIB seven" />
  <meta name="keywords" content="camunda, cib seven, open source, free, Apache License, Apache 2.0, workflow, BPMN, BPMN 2.0, camunda.org, bpm, BPMS, engine, platform, process, automation, community, documentation" />
  <meta name="author" content="CIB software, CIB seven community" />
  

  <title>Invoke an EJB from a BPMN 2.0 Service Task | docs.cibseven.de</title>

  <meta name="generator" content="Hugo! " />
  <link rel="shortcut icon" href="/get-started/img/favicon.ico" type="image/x-icon" />

  

  <link rel="stylesheet" href="/get-started/css/docs.577cd0042bbd21116a75efd2d86fcb692de17f2e4dece4880938ab625478f9e0.css" integrity="sha256-V3zQBCu9IRFqde/S2G/LaS3hfy5N7OSICTirYlR4&#43;eA=">
  <link rel="canonical" href="/get-started/archive/javaee7/service-task/" />
</head>
<body class="">

<nav class="navbar navbar-fixed-top">
  <div class="navbar-container">
    <div class="navbar-header">
      <a href="/">
      <img src="/get-started/img/logo.png" style="width:331;height:69px; padding:0 5px 7px 0;">
        <span class="site-name">Docs</span>
      </a>
    </div>

    <ul class="header-menu">
      
      <li  class="active"  ><a href="/get-started">Get Started</a></li>
      
      <li  ><a href="/manual">Camunda Platform 7</a></li>
      
      <li  ><a href="/optimize">Optimize</a></li>
      
      <li  ><a href="/cawemo">Cawemo</a></li>
      
      <li  ><a href="/enterprise">Enterprise</a></li>
      
      <li  ><a href="/security">Security</a></li>
      
    </ul>

    <button class="site-menu-toggle">
      <span></span>
      <span></span>
      <span></span>
    </button>

    <div class="search-field">
      <input type="search" class="search-input" placeholder="Searchâ€¦" />
    </div>

    <ul class="external-menu">
      <li class="external"><a href="https://cibseven.de">CIBseven.de</a></li>
    </ul>
  </div>
</nav>

<div class="search-results">
  <ul class="results-list">
  </ul>
  <footer>
    <button class="btn btn-default page previous">
      <span class="glyphicon glyphicon-chevron-left"></span>
    </button>

    <button class="search-close btn btn-default">
      <span class="glyphicon glyphicon-remove"></span>
    </button>

    <button class="btn btn-default page next">
      <span class="glyphicon glyphicon-chevron-right"></span>
    </button>
  </footer>
</div>

<div class="search-underlay"></div>

<nav class="site-menu">
  



<div class="version">
  
</div>

<ul class="site-menu-items">
  
    
  <li>
    
      <a href="/get-started/quick-start/" >Quick Start (Java / JS)</a>
      <ul>
        
          
  <li>
    
      <a href="/get-started/quick-start/install/" >Download and Installation</a>
    
  </li>

        
          
  <li>
    
      <a href="/get-started/quick-start/service-task/" >Executable Process</a>
    
  </li>

        
          
  <li>
    
      <a href="/get-started/quick-start/deploy/" >Deploy the Process</a>
    
  </li>

        
          
  <li>
    
      <a href="/get-started/quick-start/user-task/" >Involve Humans</a>
    
  </li>

        
          
  <li>
    
      <a href="/get-started/quick-start/gateway/" >Make It Dynamic</a>
    
  </li>

        
          
  <li>
    
      <a href="/get-started/quick-start/decision-automation/" >Decision Automation</a>
    
  </li>

        
      </ul>
    
  </li>

  
    
  <li>
    
      <a href="/get-started/spring-boot/" >Spring Boot</a>
      <ul>
        
          
  <li>
    
      <a href="/get-started/spring-boot/project-setup/" >Project Setup</a>
    
  </li>

        
          
  <li>
    
      <a href="/get-started/spring-boot/configuration/" >Configuration</a>
    
  </li>

        
          
  <li>
    
      <a href="/get-started/spring-boot/model/" >Model a Process</a>
    
  </li>

        
      </ul>
    
  </li>

  
    
  <li>
    
      <a href="/get-started/dmn/" >DMN</a>
      <ul>
        
          
  <li>
    
      <a href="/get-started/dmn/install/" >Download and Installation</a>
    
  </li>

        
          
  <li>
    
      <a href="/get-started/dmn/project-setup/" >Project Setup</a>
    
  </li>

        
          
  <li>
    
      <a href="/get-started/dmn/model/" >Create a Decision Table</a>
    
  </li>

        
          
  <li>
    
      <a href="/get-started/dmn/deploy/" >Evaluate and Deploy the Decision Table</a>
    
  </li>

        
          
  <li>
    
      <a href="/get-started/dmn/drg/" >Decision Requirements Graph</a>
    
  </li>

        
      </ul>
    
  </li>

  
    
  <li>
    
      <a href="/get-started/archive/" >Archive</a>
      <ul>
        
          
  <li>
    
      <a href="/get-started/archive/spring/" >Spring Framework</a>
      <ul>
        
          
  <li>
    
      <a href="/get-started/archive/spring/project-setup/" >Project Setup</a>
    
  </li>

        
          
  <li>
    
      <a href="/get-started/archive/spring/embedded-process-engine/" >Embedded Process Engine Configuration</a>
    
  </li>

        
          
  <li>
    
      <a href="/get-started/archive/spring/service-task/" >Spring Bean Service Task</a>
    
  </li>

        
          
  <li>
    
      <a href="/get-started/archive/spring/shared-process-engine/" >Shared Process Engine</a>
    
  </li>

        
      </ul>
    
  </li>

        
          
  <li>
    
      <a href="/get-started/archive/javaee7/" >Java EE 7</a>
      <ul>
        
          
  <li>
    
      <a href="/get-started/archive/javaee7/install/" >Download and Installation</a>
    
  </li>

        
          
  <li>
    
      <a href="/get-started/archive/javaee7/project-setup/" >Project Setup</a>
    
  </li>

        
          
  <li>
    
      <a href="/get-started/archive/javaee7/model/" >Model a Process</a>
    
  </li>

        
          
  <li>
    
      <a href="/get-started/archive/javaee7/deploy/" >Deploy</a>
    
  </li>

        
          
  <li>
    
      <a href="/get-started/archive/javaee7/start-form/" >JSF Start Form</a>
    
  </li>

        
          
  <li>
    
      <a href="/get-started/archive/javaee7/service-task/" >EJB Service Task</a>
    
  </li>

        
          
  <li>
    
      <a href="/get-started/archive/javaee7/task-form/" >JSF Task Form</a>
    
  </li>

        
          
  <li>
    
      <a href="/get-started/archive/javaee7/complete-process/" >Complete Process</a>
    
  </li>

        
      </ul>
    
  </li>

        
          
  <li>
    
      <a href="/get-started/archive/java-process-app/" >Java Process Application</a>
      <ul>
        
          
  <li>
    
      <a href="/get-started/archive/java-process-app/install/" >Download and Installation</a>
    
  </li>

        
          
  <li>
    
      <a href="/get-started/archive/java-process-app/project-setup/" >Project Setup</a>
    
  </li>

        
          
  <li>
    
      <a href="/get-started/archive/java-process-app/model/" >Model a Process</a>
    
  </li>

        
          
  <li>
    
      <a href="/get-started/archive/java-process-app/deploy/" >Deploy and Test</a>
    
  </li>

        
          
  <li>
    
      <a href="/get-started/archive/java-process-app/forms/" >Forms</a>
    
  </li>

        
          
  <li>
    
      <a href="/get-started/archive/java-process-app/service-task/" >Java Service Task</a>
    
  </li>

        
      </ul>
    
  </li>

        
          
  <li>
    
      <a href="/get-started/archive/rpa/" >RPA Orchestration</a>
      <ul>
        
          
  <li>
    
      <a href="/get-started/archive/rpa/requirements/" >Requirements</a>
    
  </li>

        
          
  <li>
    
      <a href="/get-started/archive/rpa/installation/" >Installation &amp; Configuration</a>
    
  </li>

        
          
  <li>
    
      <a href="/get-started/archive/rpa/orchestrating-bots/" >Orchestrating RPA Bots</a>
    
  </li>

        
          
  <li>
    
      <a href="/get-started/archive/rpa/error-handling/" >Error Handling</a>
    
  </li>

        
      </ul>
    
  </li>

        
      </ul>
    
  </li>

  
    
  <li>
    
      <a href="/get-started/apache-maven/" >Maven Coordinates</a>
    
  </li>

  
</ul>


<div class="meta">
  <h4 class="header">
    <span class="toggle glyphicon glyphicon-chevron-up"></span>
    Options
  </h4>

  <div class="content">
    <label for="version-select">Version:</label>
    <select id="version-select" data-basepath="/get-started" base-url="/get-started/">
      
    </select>
  </div>
</div>



</nav>


<div class="page-wrapper">


<div class="page-content">
  <div class="container-fluid">
    <div class="col-xs-12 content-header">
      <ul class="social">
  <li>
    <a target="_blank" title="Camunda on Twitter" href="//twitter.com/camunda">
      <span class="cam-docs-twitter"></span>
    </a>
  </li>
  <li>
    <a target="_blank" title="Camunda related topics on Stackoverflow" href="//stackoverflow.com/questions/tagged/camunda">
      <span class="cam-docs-stackoverflow"></span>
    </a>
  </li>
  <li>
    <a target="_blank" title="Camunda Forum" href="//forum.camunda.org">
      <span class="cam-docs-chat"></span>
    </a>
  </li>
</ul>

      
<div class="edit-on-github">
  <a target="_blank" href="https://github.com/camunda/camunda-docs-static/tree/master/get-started/content/archive%5cjavaee7%5cservice-task.md"><i>Edit on Github</i> <span class="cam-docs-github"></span></a>
</div>

      <h1 class="page-title">Invoke an EJB from a BPMN 2.0 Service Task</h1>
    </div>

    <div class="col-xs-12 content-text">
      <p>In this section we learn how to call an EJB from a BPMN 2.0 Service Task.</p>
<h1 id="add-ejb-service-task">Add EJB Service Task</h1>
<p>After the process has been started with the new order as process variables, we want to persist the order to the database and only save the newly generated order id as process variable.</p>
<h2 id="add-an-entity-bean-to-the-process-application">Add an Entity Bean to the Process Application</h2>
<p>To persist the entity with JPA, we add an entity bean to our process application. Create a package <code>org.camunda.bpm.getstarted.pizza</code> and then place the following <code>OrderEntity</code> class into that package:</p>

<div class="note bg-warning docs-warning">
  <h3>Camunda dropped support for handling JPA entities as variables.</h3>
  <p><p>Camunda Automation Platform 7.19 is the last release that supports handling JPA entities as variables</p>
<p>You need to add a process engine plugin to achieve some of the next steps in the guide.
Have a look at the <a href="/manual/develop/user-guide/update/minor/719-to-720/#breaking-change-discontinue-support-for-handling-jpa-entities-as-variables">7.20 update guide</a> for more information.</p>
</p>
</div>

<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">package</span> org.camunda.bpm.getstarted.pizza;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> javax.persistence.Entity;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> javax.persistence.GeneratedValue;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> javax.persistence.Id;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> javax.persistence.Version;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.io.Serializable;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@Entity</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">OrderEntity</span> <span style="color:#66d9ef">implements</span> Serializable {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span>  <span style="color:#66d9ef">final</span> <span style="color:#66d9ef">long</span> serialVersionUID <span style="color:#f92672">=</span> 1L;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">@Id</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">@GeneratedValue</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">protected</span> Long id;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">@Version</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">long</span> version;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">protected</span> String customer;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">protected</span> String address;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">protected</span> String pizza;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">boolean</span> approved;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> Long <span style="color:#a6e22e">getId</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> id;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setId</span>(Long id) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">id</span> <span style="color:#f92672">=</span> id;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">long</span> <span style="color:#a6e22e">getVersion</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> version;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setVersion</span>(<span style="color:#66d9ef">long</span> version) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">version</span> <span style="color:#f92672">=</span> version;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">getCustomer</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> customer;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setCustomer</span>(String customer) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">customer</span> <span style="color:#f92672">=</span> customer;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">getAddress</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> address;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setAddress</span>(String address) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">address</span> <span style="color:#f92672">=</span> address;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">getPizza</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> pizza;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setPizza</span>(String pizza) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">pizza</span> <span style="color:#f92672">=</span> pizza;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">isApproved</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> approved;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setApproved</span>(<span style="color:#66d9ef">boolean</span> approved) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">approved</span> <span style="color:#f92672">=</span> approved;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>The entity class has to be annotated with <code>@Entity</code> and needs an <code>@Id</code> field. We also add a <code>@Version</code> field to the entity bean. This enables optimistic locking and ensures integrity during merges.</p>
<h2 id="add-an-ejb-to-the-process-application">Add an EJB to the Process Application</h2>
<p>The next step is to add a stateless EJB to the process application which is called by the process. In this EJB we inject the entity manager. It is used to manage our persistent objects during the session.</p>
<p>In the method <code>persistOrder</code>, a new instance of the order entity is created and the order instance will be initialized with the values which are currently saved as process variables. After the newly created instance is flushed to the database, its order id is set and the other process variables are no longer needed, so we remove the order properties and only add the order id as a process variable.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">package</span> org.camunda.bpm.getstarted.pizza;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> org.camunda.bpm.engine.delegate.DelegateExecution;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> javax.ejb.Stateless;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> javax.inject.Named;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> javax.persistence.EntityManager;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> javax.persistence.PersistenceContext;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.Map;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@Stateless</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@Named</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">OrderBusinessLogic</span> {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// Inject the entity manager</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">@PersistenceContext</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">private</span> EntityManager entityManager;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">persistOrder</span>(DelegateExecution delegateExecution) {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Create new order instance</span>
</span></span><span style="display:flex;"><span>    OrderEntity orderEntity <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> OrderEntity();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Get all process variables</span>
</span></span><span style="display:flex;"><span>    Map<span style="color:#f92672">&lt;</span>String, Object<span style="color:#f92672">&gt;</span> variables <span style="color:#f92672">=</span> delegateExecution.<span style="color:#a6e22e">getVariables</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Set order attributes</span>
</span></span><span style="display:flex;"><span>    orderEntity.<span style="color:#a6e22e">setCustomer</span>((String) variables.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#34;customer&#34;</span>));
</span></span><span style="display:flex;"><span>    orderEntity.<span style="color:#a6e22e">setAddress</span>((String) variables.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#34;address&#34;</span>));
</span></span><span style="display:flex;"><span>    orderEntity.<span style="color:#a6e22e">setPizza</span>((String) variables.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#34;pizza&#34;</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/*
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">      Persist order instance and flush. After the flush the
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">      id of the order instance is set.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    */</span>
</span></span><span style="display:flex;"><span>    entityManager.<span style="color:#a6e22e">persist</span>(orderEntity);
</span></span><span style="display:flex;"><span>    entityManager.<span style="color:#a6e22e">flush</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Remove no longer needed process variables</span>
</span></span><span style="display:flex;"><span>    delegateExecution.<span style="color:#a6e22e">removeVariables</span>(variables.<span style="color:#a6e22e">keySet</span>());
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Add newly created order id as process variable</span>
</span></span><span style="display:flex;"><span>    delegateExecution.<span style="color:#a6e22e">setVariable</span>(<span style="color:#e6db74">&#34;orderId&#34;</span>, orderEntity.<span style="color:#a6e22e">getId</span>());
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="configure-the-ejb-in-the-process">Configure the EJB in the Process</h2>
<figure class="image">
  <span><img
      src="../img/pizza-order-process-service-task-expression.png"
       /></span>
</figure>

<p>Use the properties view of the Persist Service Task in the process (see screenshot). You need to enter <code>${orderBusinessLogic.persistOrder(execution)}</code> as the <code>Expression</code> property. This will call the <code>persistOrder</code> method of the named EJB with the current execution as parameter.</p>
<p><a href="../deploy/#build-the-process-application">Build</a>, <a href="../deploy/#deploy-to-wildfly">deploy</a> and start the process <code>Order Pizza</code> in <a href="http://localhost:8080/camunda/app/tasklist">Tasklist</a>. Fill out the emerging form. Now the <em>Persist Order</em> step should have been completed automatically. Check that by looking into the logfile of the WildFly server. It will show an entry for the new order entity:</p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->

<div class="panel-group gs-download-step-panel" id="gitStep-5">
  <div class="panel panel-success">
    <div class="panel-heading">
      <div class="pull-right">
        <a class="btn btn-success gs-download-step-btn" href="https://github.com/camunda/camunda-get-started-javaee/archive/Step-5.zip">
          <span i class="glyphicon glyphicon-download-alt"></span>
          Source Code Step-5
        </a>
      </div>
      <h4>Catch up: Get the Sources of Step-5.</h4>
      <p class="text-muted">
        <a href="https://github.com/camunda/camunda-get-started-javaee/archive/Step-5.zip">Download as .zip</a>
        or checkout the corresponding tag with <a class="toggle-instructions">Git</a>.
      </p>
    </div>
    <div class="panel-body">
      <p>You can checkout the current state from the <a href="https://github.com/camunda/camunda-get-started-javaee">GitHub repository</a>.</p>
      <p>If you have not cloned the repository yet, please execute the following command:
      <pre class="console">git clone https://github.com/camunda/camunda-get-started-javaee.git</pre>
      </p>
      <p>
      To checkout the current state of the process application please execute the following command:
      <pre class="console">git checkout -f Step-5</pre>
      Or download as archive from <a href="https://github.com/camunda/camunda-get-started-javaee/releases/tag/Step-5">here</a>.
      </p>
    </div>
  </div>
</div>


    </div>
  </div>
</div>

<div class="page-toc">
  <h3>On this Page:</h3>
  <nav id="TableOfContents">
  <ul>
    <li><a href="#add-an-entity-bean-to-the-process-application">Add an Entity Bean to the Process Application</a></li>
    <li><a href="#add-an-ejb-to-the-process-application">Add an EJB to the Process Application</a></li>
    <li><a href="#configure-the-ejb-in-the-process">Configure the EJB in the Process</a></li>
  </ul>
</nav>
  <div class="docs-banner" style="display:none">
  
  <blockquote>
    <p>
      We are not looking for talented people.
    </p>
    <p>
      Check out our <a href="https://camunda.com/career/">open positions</a>.
    </p>
  </blockquote>
</div>

</div>


    
    <footer class="page-footer">
      <div class="row">
        <div class="col-xs-12">

          <p class="pull-right">
            <a href="#" target="_self">Back to top</a>
          </p>

          <p>
            <a href="http://camunda.org">cibseven.de</a> and <a href="/get-started/">docs.cibseven.de</a> are part of CIB seven and Camunda 7
            <span class="splitter">|</span>
            Built by <a href="http://www.cib.de">CIB</a>, <a href="http://www.camunda.com">camunda</a> and contributors &mdash; <a href="https://www.cib.de/en/privacy-policy/">Privacy Statement</a> &mdash; CIB software GmbH &copy;, 282820; <a href="https://camunda.com/legal/privacy/">Privacy Statement</a> &mdash; camunda Services GmbH &copy; 2024
          </p>
          <p>
            <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/3.0/80x15.png" /></a> The content on this site is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>.
          </p>
        </div>
      </div>
    </footer>
  </div>


  

  <script type="text/javascript" src="/get-started/js/docs.81fad70793930d05122092216c79e4ee4dbcee038a523126ab4376d29dbe48dd.js" integrity="sha256-gfrXB5OTDQUSIJIhbHnk7k287gOKUjEmq0N20p2&#43;SN0="></script>
</body>
</html>

